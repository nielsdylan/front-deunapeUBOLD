{
  "version": 3,
  "sources": ["../../invariant/browser.js", "../../dom-helpers/esm/contains.js", "../../@restart/ui/node_modules/@restart/hooks/esm/useEventCallback.js", "../../@restart/ui/node_modules/@restart/hooks/esm/useCommittedRef.js", "../../@restart/ui/esm/useClickOutside.js", "../../@restart/ui/esm/useRootClose.js"],
  "sourcesContent": ["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n", "/* eslint-disable no-bitwise, no-cond-assign */\n\n/**\n * Checks if an element contains another given element.\n * \n * @param context the context element\n * @param node the element to check\n */\nexport default function contains(context, node) {\n  // HTML DOM and SVG DOM may have different support levels,\n  // so we need to check on context instead of a document root element.\n  if (context.contains) return context.contains(node);\n  if (context.compareDocumentPosition) return context === node || !!(context.compareDocumentPosition(node) & 16);\n}", "import { useCallback } from 'react';\nimport useCommittedRef from './useCommittedRef';\nexport default function useEventCallback(fn) {\n  const ref = useCommittedRef(fn);\n  return useCallback(function (...args) {\n    return ref.current && ref.current(...args);\n  }, [ref]);\n}", "import { useEffect, useRef } from 'react';\n\n/**\n * Creates a `Ref` whose value is updated in an effect, ensuring the most recent\n * value is the one rendered with. Generally only required for Concurrent mode usage\n * where previous work in `render()` may be discarded before being used.\n *\n * This is safe to access in an event handler.\n *\n * @param value The `Ref` value\n */\nfunction useCommittedRef(value) {\n  const ref = useRef(value);\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref;\n}\nexport default useCommittedRef;", "import contains from 'dom-helpers/contains';\nimport listen from 'dom-helpers/listen';\nimport ownerDocument from 'dom-helpers/ownerDocument';\nimport { useCallback, useEffect, useRef } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport warning from 'warning';\nconst noop = () => {};\nfunction isLeftClickEvent(event) {\n  return event.button === 0;\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nexport const getRefTarget = ref => ref && ('current' in ref ? ref.current : ref);\nconst InitialTriggerEvents = {\n  click: 'mousedown',\n  mouseup: 'mousedown',\n  pointerup: 'pointerdown'\n};\n\n/**\n * The `useClickOutside` hook registers your callback on the document that fires\n * when a pointer event is registered outside of the provided ref or element.\n *\n * @param {Ref<HTMLElement>| HTMLElement} ref  The element boundary\n * @param {function} onClickOutside\n * @param {object=}  options\n * @param {boolean=} options.disabled\n * @param {string=}  options.clickTrigger The DOM event name (click, mousedown, etc) to attach listeners on\n */\nfunction useClickOutside(ref, onClickOutside = noop, {\n  disabled,\n  clickTrigger = 'click'\n} = {}) {\n  const preventMouseClickOutsideRef = useRef(false);\n  const waitingForTrigger = useRef(false);\n  const handleMouseCapture = useCallback(e => {\n    const currentTarget = getRefTarget(ref);\n    warning(!!currentTarget, 'ClickOutside captured a close event but does not have a ref to compare it to. ' + 'useClickOutside(), should be passed a ref that resolves to a DOM node');\n    preventMouseClickOutsideRef.current = !currentTarget || isModifiedEvent(e) || !isLeftClickEvent(e) || !!contains(currentTarget, e.target) || waitingForTrigger.current;\n    waitingForTrigger.current = false;\n  }, [ref]);\n  const handleInitialMouse = useEventCallback(e => {\n    const currentTarget = getRefTarget(ref);\n    if (currentTarget && contains(currentTarget, e.target)) {\n      waitingForTrigger.current = true;\n    } else {\n      // When clicking on scrollbars within current target, click events are not triggered, so this ref\n      // is never reset inside `handleMouseCapture`. This would cause a bug where it requires 2 clicks\n      // to close the overlay.\n      waitingForTrigger.current = false;\n    }\n  });\n  const handleMouse = useEventCallback(e => {\n    if (!preventMouseClickOutsideRef.current) {\n      onClickOutside(e);\n    }\n  });\n  useEffect(() => {\n    var _ownerWindow$event, _ownerWindow$parent;\n    if (disabled || ref == null) return undefined;\n    const doc = ownerDocument(getRefTarget(ref));\n    const ownerWindow = doc.defaultView || window;\n\n    // Store the current event to avoid triggering handlers immediately\n    // For things rendered in an iframe, the event might originate on the parent window\n    // so we should fall back to that global event if the local one doesn't exist\n    // https://github.com/facebook/react/issues/20074\n    let currentEvent = (_ownerWindow$event = ownerWindow.event) != null ? _ownerWindow$event : (_ownerWindow$parent = ownerWindow.parent) == null ? void 0 : _ownerWindow$parent.event;\n    let removeInitialTriggerListener = null;\n    if (InitialTriggerEvents[clickTrigger]) {\n      removeInitialTriggerListener = listen(doc, InitialTriggerEvents[clickTrigger], handleInitialMouse, true);\n    }\n\n    // Use capture for this listener so it fires before React's listener, to\n    // avoid false positives in the contains() check below if the target DOM\n    // element is removed in the React mouse callback.\n    const removeMouseCaptureListener = listen(doc, clickTrigger, handleMouseCapture, true);\n    const removeMouseListener = listen(doc, clickTrigger, e => {\n      // skip if this event is the same as the one running when we added the handlers\n      if (e === currentEvent) {\n        currentEvent = undefined;\n        return;\n      }\n      handleMouse(e);\n    });\n    let mobileSafariHackListeners = [];\n    if ('ontouchstart' in doc.documentElement) {\n      mobileSafariHackListeners = [].slice.call(doc.body.children).map(el => listen(el, 'mousemove', noop));\n    }\n    return () => {\n      removeInitialTriggerListener == null ? void 0 : removeInitialTriggerListener();\n      removeMouseCaptureListener();\n      removeMouseListener();\n      mobileSafariHackListeners.forEach(remove => remove());\n    };\n  }, [ref, disabled, clickTrigger, handleMouseCapture, handleInitialMouse, handleMouse]);\n}\nexport default useClickOutside;", "import listen from 'dom-helpers/listen';\nimport ownerDocument from 'dom-helpers/ownerDocument';\nimport { useEffect } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport useClickOutside, { getRefTarget } from './useClickOutside';\nimport { isEscKey } from './utils';\nconst noop = () => {};\n/**\n * The `useRootClose` hook registers your callback on the document\n * when rendered. Powers the `<Overlay/>` component. This is used achieve modal\n * style behavior where your callback is triggered when the user tries to\n * interact with the rest of the document or hits the `esc` key.\n *\n * @param {Ref<HTMLElement>| HTMLElement} ref  The element boundary\n * @param {function} onRootClose\n * @param {object=}  options\n * @param {boolean=} options.disabled\n * @param {string=}  options.clickTrigger The DOM event name (click, mousedown, etc) to attach listeners on\n */\nfunction useRootClose(ref, onRootClose, {\n  disabled,\n  clickTrigger\n} = {}) {\n  const onClose = onRootClose || noop;\n  useClickOutside(ref, onClose, {\n    disabled,\n    clickTrigger\n  });\n  const handleKeyUp = useEventCallback(e => {\n    if (isEscKey(e)) {\n      onClose(e);\n    }\n  });\n  useEffect(() => {\n    if (disabled || ref == null) return undefined;\n    const doc = ownerDocument(getRefTarget(ref));\n\n    // Store the current event to avoid triggering handlers immediately\n    // https://github.com/facebook/react/issues/20074\n    let currentEvent = (doc.defaultView || window).event;\n    const removeKeyupListener = listen(doc, 'keyup', e => {\n      // skip if this event is the same as the one running when we added the handlers\n      if (e === currentEvent) {\n        currentEvent = undefined;\n        return;\n      }\n      handleKeyUp(e);\n    });\n    return () => {\n      removeKeyupListener();\n    };\n  }, [ref, disabled, handleKeyUp]);\n}\nexport default useRootClose;"],
  "mappings": "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",
  "names": ["import_react", "import_react", "warning", "import_react", "noop"]
}
